@model IEnumerable<helperland_1.Models.upcomingservicelist>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = null;

    var userid = HttpContextAccessor.HttpContext.Session.GetInt32("userid");
    var username = HttpContextAccessor.HttpContext.Session.GetString("username");
 }


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="images/favicon_img.png" rel="shortcut icon" type="image/x-icon">
    <link rel="stylesheet" href="~/css/servicehistory.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <script type="text/javascript" src="~/js/servicehistory.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap4.min.css">
    <title>Service history</title>
</head>

<body class="p-0">
    <style>
        #mySidenav a {
            color: grey;
        }

        .sidebar ul .active {
            background-color: #115664;
        }
    </style>
    <div class="header1" id="topheader">
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #525252;" id="navbar11">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src="~/images/white-logo-transparent-background.png" style="width: 73px; height: 54px;" id="imgg2">
                </a>
                <div>
                    <span class="bellImg1">
                        <a href="">
                            <span class="leftt"></span>
                            <img src="~/images/icon-notification.png" alt="" height="32px" width="29px" class="mb-2 bellImg">
                            <span class="rightt"></span>
                        </a>
                    </span>
                    <span style="font-size:30px;cursor:pointer" onclick="openNav()" class="rtt"> &#9776</span>
                    <div id="mySidenav" class="sidenav">
                        <span class="nav-link">
                            Welcome,<br>
                            <div class="font-weight-bold ml-0">Sandip</div>
                        </span>
                        <hr style="height: 5px; color: black;" class="mt-1 mb-1">
                        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                        <a asp-controller="home" asp-action="servicehistory">Dashboard</a>
                        <a asp-controller="home" asp-action="SRservicehistory">Service History</a>
                        <a href="#">Service Schedule</a>
                        <a asp-controller="home" asp-action="favpros">Favourite Pros</a>
                        <a>Notifications</a>
                        <a asp-action="myseetings" asp-controller="home">My Settings</a>
                        <a asp-controller="home" asp-action="logout">Logout</a>
                        <hr style="height: 5px; color: black;" class="mt-1 mb-1">
                        <a asp-controller="home" asp-action="prices">Prices and Services</a>
                        <a href="#">Warranty</a>
                        <a href="#">Blog</a>
                        <a asp-controller="home" asp-action="contactus">Contact</a>
                        <hr style="height: 5px; color: black;" class="mt-1 mb-1">
                        <a href="" class="ml-5">
                            <svg xmlns="http://www.w3.org/2000/svg" width="9" height="18" class=" ml-3 mr-3">
                                <path fill-rule="evenodd" fill="#000" d="M1.947 3.48v2.481H0v3.033h1.947V18.1h4.001V8.995h2.685S8.885 7.541 9.7 5.95H5.963V3.876c0-.31.437-.728.868-.728H9.11V.9H6.46C1.848.9 1.947 3.27 1.947 3.48z" />
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="ms-3">
                                <path fill-rule="evenodd" fill="#000" d="M14.48 20H5.519A5.524 5.524 0 0 1 0 14.482V5.52C0 2.477 2.475.2 5.519.2h8.961c3.043 0 5.519 2.277 5.519 5.32v8.962A5.525 5.525 0 0 1 14.48 20zm3.744-5.518V5.52a3.748 3.748 0 0 0-3.744-3.744H5.519A3.749 3.749 0 0 0 1.774 5.52v8.962a3.749 3.749 0 0 0 3.745 3.744h8.961a3.748 3.748 0 0 0 3.744-3.744zm-2.855-8.536c-.099 0-.678-.14-.92-.381-.242-.243.221-.578.221-.921 0-.342-.463-.678-.221-.92.242-.242.821-.381.92-.381.343 0 1.111.139.92.381.242.242.381.578.381.92 0 .342-.139.678-.381.921.171.241-.577.381-.92.381zm-5.37 9.208c-2.841 0-5.153-2.312-5.153-5.054 0-2.941 2.312-5.252 5.153-5.252 2.842 0 5.153 2.311 5.153 5.252 0 2.742-2.311 5.054-5.153 5.054zm0-8.532c-1.863 0-3.379 1.516-3.379 3.478 0 1.764 1.516 3.28 3.379 3.28s3.379-1.516 3.379-3.28c0-1.962-1.516-3.478-3.379-3.478z" />
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="collapse navbar-collapse dis" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item mt-4">
                            <div class="nav-btn">
                                <a class="nav-link1 rounded-pill py-3 px-4 " asp-controller="home" asp-action="bookservice">Book Now</a>
                            </div>
                        </li>
                        <li class="nav-item mt-4">
                            <div class="nav-btn">
                                <a class="nav-link1 rounded-pill  py-3 px-4 " asp-controller="home" asp-action="prices">Prices & services</a>
                            </div>
                        </li>
                        <li class="nav-item mt-4">
                            <div class="nav-btn">
                                <a class="nav-link1 rounded-pill  py-3 px-4 " href="#">Warranty</a>
                            </div>
                        </li>
                        <li class="nav-item mt-4">
                            <div class="nav-btn">
                                <a class="nav-link1 rounded-pill py-3 px-4 " href="#">Blog</a>
                            </div>
                        </li>
                        <li class="nav-item mt-4">
                            <div class="nav-btn ">
                                <a class="nav-link1 rounded-pill  py-3 px-4 " asp-controller="home" asp-action="contactus">Contact</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <div class=" nav-btn bdr bdl">
                                <a class="navbar-brand mt-2 ml-3" href="#">
                                    <img src="~/images/icon-notification.png" alt="" height="32px" width="29px" class="d-flex">
                                </a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a class="navbar-brand mt-2 ml-4" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <img src="~/images/admin-user.png" class="mr-1">
                            </a>
                            <div class="dropdown-menu dropdown-menu-right clrr" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item mt-1">Welcome,</a>
                                <strong class="dropdown-item">@username</strong>
                                <hr class="hrr">
                                <a class="dropdown-item">My Dashboard</a>
                                <a class="dropdown-item" asp-action="myseetings" asp-controller="home">My Settings</a>
                                <a class="dropdown-item" asp-controller="home" asp-action="logout">Logout</a>
                            </div>

                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <div class="custHeader position-relative d-flex align-items-center justify-content-center">
        <p class="m-0" style="color: #4f4f4f;">Welcome, <span class="font-weight-bold" style="color: #4f4f4f;">@username</span></p>
    </div>
    <div class="Main-dash d-flex justify-content-between m-3">
        <!-- --------------- Sidebar -------------- -->
        <div class="sidebar position-relative">
            <ul class="inner mb-0 h-100">
                <li class="active">
                    <a class="text-light" aria-current="page" id="dashBoard" asp-controller="home" asp-action="servicehistory">Dashboard</a>
                </li>
                <li>
                    <a id="serviceHistory" class="text-light" onclick="" asp-action="SRservicehistory" asp-controller="home">Service History</a>
                </li>
                <li>
                    <a id="serviceSchedule" class="text-light">Service Schedule</a>
                </li>
                <li>
                    <a id="favouritePros" class="text-light" asp-controller="home" asp-action="favpros">Favourite Pros</a>
                </li>
                <li>
                    <a id="invoices" class="text-light">Invoices</a>
                </li>
                <li>
                    <a id="notifications" class="text-light" onclick="notifications()">Notification</a>
                </li>
            </ul>
        </div>
        <!-- -------------------All Tables List------------------- -->
        <div class="whole_tables">
            <!-- For Dashboard TABLE -->
            <div id="DashboardTable">
                <div class="titlee d-flex justify-content-between align-items-center ml-0">
                    <h3 class="mt-3 ab">Current Service Requests</h3>
                    <a asp-controller="home" asp-action="bookservice" class="btn form_btn rounded-pill text-decoration-none">
                        Add New Service Request
                    </a>
                </div>
                <table class="table tablee1 p-4" id="tab1">
                    <thead class="ac">
                        <tr>
                            <th scope="col" width="100">
                                Service Id
                            </th>
                            <th scope="col" width="150">
                                Service Date
                            </th>
                            <th scope="col" width="150">
                                Service Provider
                            </th>
                            <th scope="col" width="150" class="text-center">
                                Payment
                            </th>
                            <th scope="col" class="text-center" width="150">
                                Actions
                            </th>
                        </tr>
                    </thead>
                    <tbody class="ac">
                        @foreach (var item in Model)
                        {
                            <tr>
                                <th href="#" class="servicepopup" srid="@item.ServiceRequestId" scope="row">@item.ServiceId</th>
                                <td class="=datess" href="#serviceDetails">
                                    <a href="#" class="d-flex text-decoration-none align-items-center">
                                        <img src="~/images/calendar2.png" alt="" height="19" width="16">
                                        <p class="mb-0 ms-1">@item.ServiceStartDate.ToShortDateString()</p>
                                    </a>
                                    <a href="#" class="d-flex text-decoration-none">
                                        <p class="m-0">@item.ServiceStartDate.ToShortTimeString()</p>
                                    </a>
                                </td>
                                @if (item.ServiceProviderId != null)
                                {
                                    <td>
                                        <div class="d-flex">
                                            <div class="circlee rounded-circle d-flex align-items-center justify-content-center mr-3">
                                                <img src="~/images/cap.png" alt="" height="20" width="30">
                                            </div>
                                            <div class="d-flex flex-column">
                                                <p class="mb-0 aa">@item.FirstName @item.LastName</p>
                                                @*<div class="d-flex align-items-center">
                                                    <img src="~/images/star1.png" alt="">
                                                    <img src="~/images/star1.png" alt="">
                                                    <img src="~/images/star1.png" alt="">
                                                    <img src="~/images/star1.png" alt="">
                                                    <img src="~/images/star2.png" alt="">
                                                    <p class="mb-0 aa">4</p>
                                                </div>*@
                                            </div>
                                        </div>
                                    </td>
                                }
                                else
                                {
                                    <td></td>
                                }

                                <td>
                                    <p class="text-center paymentt">$@item.SubTotal</p>
                                </td>
                                <td class="main-btn text-center d-flex align-items-center  justify-content-center">
                                    @*href="#rescheduleClick" data-toggle="modal" data-dismiss="modal"*@
                                    <a role="button" srid="@item.ServiceRequestId" class="reschedule-btn rounded-pill mr-1 text-light text-decoration-none">Reschedule</a>
                                    <a srid="@item.ServiceRequestId" role="button" class="rounded-pill text-light text-decoration-none cancel-btn">Cancel</a>
                                </td>
                            </tr>
                        }


                    </tbody>
                    <tfoot class="d-none ac">
                        <tr>
                            <th scope="col" width="100">
                                Service Id
                            </th>
                            <th scope="col" width="150">
                                Service Date
                            </th>
                            <th scope="col">
                                Service Provider
                            </th>
                            <th scope="col" width="100" class="text-center">
                                Payment
                            </th>
                            <th scope="col" class="text-center" width="200">
                                Actions
                            </th>
                        </tr>
                    </tfoot>
                </table>

            </div>


            <!------------------------------------- detail modal=------------------------------------->

            <div class="modal fade" id="servicesPop" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered ac" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title font-weight-bolder" id="exampleModalCenterTitle">Service Details</h5>
                            <button type="button" class="close cancel1" data-bs-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body CalModal">
                            @*<div class="CalLeft">
                                    <h4>22/12/2021 09:00 -14:30</h4>
                                    <p><b>Duration:</b>5.5 Hrs</p>
                                    <hr>
                                    <p><b>Service Id:</b>8502</p>
                                    <p><b>Extras:</b>Inside cabinets, Inside fridge, Inside oven, Laundry wash & dry, Interior windows</p>
                                    <p>
                                        <b>Net Amount:</b>
                                        <spna class="currency fw-bolder">99,00 €</spna>
                                    </p>
                                    <hr>
                                    <p><b>Service Address:</b>Test 65, 53225 Bonn</p>
                                    <p><b>Billing Address:</b>Same as cleaning Address</p>
                                    <p><b>Phone:</b>+49 9988556644</p>
                                    <p><b>email:</b>cust001@yopmail.com</p>
                                    <hr>
                                    <p><b>Comments</b></p>
                                    <div>
                                        <p>Hello</p>
                                    </div>
                                    <p>I don't have pets at home</p>
                                </div>*@
                        </div>
                        @*<span class="main-btn modal-footer text-center mb-3">
                                <a data-toggle="modal" data-target="#rescheduleClick" data-dismiss="modal" role="button" class="reschedule-btn rounded-pill text-light text-decoration-none">Reschedule</a>
                                <a data-toggle="modal" data-target="#cancelClick" data-dismiss="modal" role="button" class="cancel1 rounded-pill text-light text-decoration-none cancel-btn">Cancel</a>
                            </span>*@
                    </div>
                </div>
            </div>




            <!-- For Service-History TABLE -->
            <!-- Favourite Pros TABLE -->


        </div>
    </div>

    <!-- .........For RescheduleButton PopUp Modal............. -->
    <div class="modal fade" id="rescheduleClick" tabindex="-1" role="dialog" aria-labelledby="rescheduleBtnClick" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-weight-bolder" id="rescheduleBtnClick">Reschedule Service Request</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body ">
                    <p class="m-1 font-weight-bold">Select New Date & Time</p>
                    <form id="rescheduleform">
                        <div class="d-flex mb-3">
                            <input type="date" id="txtDate" class="pickaDate" name="txtDate" placeholder="date">

                            <input type="time" class="selectaTime" id="time" />
                        </div>
                        <button type="button" class="updateButtton text-light rounded-pill border-0">Update</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- ........For CancelBtn Popup Modal.......... -->
    <div class="modal fade" id="cancelClick" tabindex="-1" role="dialog" aria-labelledby="cancelBtnClick" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title font-weight-bolder" id="cancelBtnClick">Cancel Service Request</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body ">
                    <p class="mb-1">Why you want to cancel the service request?</p>
                    <form id="cancelform" class="d-flex flex-column">
                        <textarea type="text" class="whyToCancel mb-2" id="whycancel" name="whyToCancel" maxlength="500" rows="3"></textarea>
                        <button type="button" data-dismiss="modal" class="cancelButton text-light rounded-pill border-0">Cancel Now</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- ..........Footer Section............. -->
    <footer class="site-footer">
        <div class="footer-top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-2 footer-widget">
                        <a href="#" title="Helper Hand">
                            <img src="~/lib/images/white-logo-transparent-background.png" alt="Helper Hand">
                        </a>
                    </div>
                    <div class="col-lg-8 footer-widget">
                        <ul class="footer-navigation d-flex justify-content-center">
                            <li>
                                <a title="Home" asp-controller="home" asp-action="index">Home</a>
                            </li>
                            <li>
                                <a title="About" asp-controller="home" asp-action="aboutus">About</a>
                            </li>
                            <li>
                                <a href="#" title="Testimonials">Testimonials</a>
                            </li>
                            <li>
                                <a title="FAQS" asp-controller="home" asp-action="faq">FAQS</a>
                            </li>
                            <li>
                                <a href="#" title="Insurance Policy">Insurance Policy</a>
                            </li>
                            <li>
                                <a href="#" title="Impressum">Impressum</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-2 footer-widget">
                        <ul class="social-media-list d-flex justify-content-end">
                            <li>
                                <a href="#" target="_blank" title="Facebook">
                                    <img src="~/lib/images/ic-facebook.png" alt="Facebook">
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank" title="Instagram">
                                    <img src="~/lib/images/ic-instagram.png" alt="Instagram">
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container text-center">
                <p>©2018 Helperland. All rights reserved <a href="#" title="Privacy Policy">Privacy Policy</a></p>
            </div>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    @*<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
        <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>*@


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
    @*<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>*@
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
            integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
            crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/jquery.table2excel.min.js"></script>
    <script>
        var today = new Date().toISOString().split('T')[0];
        document.getElementsByName("txtDate")[0].setAttribute('min', today);
    </script>

    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    </script>
    <script type="text/javascript">
        $('#tab1').DataTable({
            "aaSorting": [],
            columnDefs: [{
                orderable: false,
                targets: [1, 3]
            }]
        });


        $(".modal-header button").on('click', function () {
            console.log("hii");
            $('.modal-backdrop').remove();
        });


        $("#changepass").on('click', function () {

            var password = {};
            password.UserId = $("#userid").val();
            password.Password = $("#oldpass").val();
            password.Newpassword = $("#newpass").val();
            password.Confirmpassword = $("#confirmpass").val();

            if (password.Newpassword != password.Confirmpassword) {
                alert("password and confirm password does not match");
            }
            else
            {
                $.ajax({
                    url: '@Url.Action("changepassword","home")',
                    type: 'post',
                    dataType: 'json',
                    contentType: 'application/json',
                    data: JSON.stringify(password),

                    success: function (resp) {
                        alert("password changed");
                    },
                    error: function (err) {
                        alert("Error occured while changing the password");
                    }
                })
            }

        })

        //==================================  service detail POP UP modal    ======================================//

        $(".servicepopup").click(function () {
            var ServiceRequestId = parseInt($(this).attr("srid"));
            console.log(ServiceRequestId);
            console.log($.type(ServiceRequestId));

            $.ajax
              ({
                url: '@Url.Action("Detailsmodal", "home")',
                type: 'GET',
                contentType: 'application/html; charset = utf-8',
                dataType: 'html',
                data: {
                     zip: parseInt($(this).attr("srid"))
                },
                success: function (resp) {
                    console.log(resp);

                    $("#servicesPop .modal-body").html(resp);
                    $("#servicesPop").modal('show');

                },
                error: function (err) {
                    alert("not done");
                    console.log(err);
                }

            });

        });


        $(document).on('click', ".reschedule-btn", function () {
            $("#servicesPop").modal('hide');
            document.getElementById("rescheduleform").reset();
            $("#rescheduleClick").modal('show');
        });


        $(document).on('click', ".cancel-btn", function () {
            $("#servicesPop").modal('hide');

            document.getElementById("cancelform").reset();
            $("#cancelClick").modal('show');
        });



          //==================================  CANCEL POP UP modal    ======================================//
        var del1;
        $(document).on('click',".cancel-btn",function () {
            del1 = parseInt($(this).attr("srid"));
            console.log(del1);

        });




        $(document).on('click', '.cancelButton', function () {
            var book = {};
            book.ServiceRequestId = del1;
            book.Comments = $("#whycancel").val();
            console.log(book);

            $.ajax
                ({
                    url: '@Url.Action("cancelSR", "home")',
                    type: 'post',
                    dataType: 'json',
                    contentType: 'application/json',

                    data: JSON.stringify(book),

                    success: function (resp) {
                        console.log(resp);
                        console.log(typeof resp);

                        alert("service request cancel")
                        location.reload();

                    },
                    error: function (err) {
                        alert("not done");
                        console.log(err);
                    }

                });

        });



        //==================================== reschedule ===========================================//

        var reschedule;
        $(document).on('click', ".reschedule-btn", function () {
            reschedule = parseInt($(this).attr("srid"));
            console.log(reschedule);
        });

        $(document).on('click', ".updateButtton", function () {
            var book = {};
            book.Date = $("#txtDate").val() + " " + $("#time").val();
            book.ServiceRequestId = reschedule;
            console.log(book);

                $.ajax
                ({
                    url: '@Url.Action("rescheduleSR", "home")',
                    type: 'post',
                    dataType: 'json',
                    contentType: 'application/json',
                    data: JSON.stringify(book),

                    success: function (resp) {
                        if (resp) {
                            alert("service reschedule successfully");
                            $(".modal").modal('hide');
                            location.reload();
                        }
                        else {
                            alert("please insert valid date");
                            $(".modal").modal('hide');
                        }

                    },
                    error: function (err) {
                        alert("not done");
                        console.log(err);
                    }

                });
        });

    </script>

</body>

</html>